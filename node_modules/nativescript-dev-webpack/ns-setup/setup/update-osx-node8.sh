#!/bin/bash

# TODO: Following line fixes this issue:
# http://stackoverflow.com/questions/9132826/stop-developer-tools-access-needs-to-take-control-of-another-process-for-debugg
# sudo /usr/sbin/DevToolsSecurity --enable

dir="$(dirname "$0")"

# TODO: Think about running these scripts at the same time on all build machines,
# as $BUILD_NUMBER is not the same, so they do not run at the same time

# This will be executed once per 10 builds
if [[ $BUILD_NUMBER == *5 ]] || [[ $FORCE == true ]]; then
    "$dir/update-pods.sh"
    "$dir/update-android-sdk.sh"
    "$dir/update-android-emulators.sh"
fi
"$dir/clean-caches.sh"
"$dir/reset-emulators.sh"
"$dir/reset-simulators.sh"
"$dir/update-brew-packages-node8.sh"
"$dir/update-npm-packages.sh"
"$dir/clean-global-workspace.sh"
